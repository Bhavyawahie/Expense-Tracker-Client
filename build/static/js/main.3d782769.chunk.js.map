{"version":3,"sources":["components/Header.jsx","context/AppReducer.jsx","context/GlobalState.jsx","util/format.js","components/Balance.jsx","components/IncomeExpenses.jsx","components/Transaction.jsx","components/TransactionList.jsx","components/AddTransaction.jsx","App.jsx","index.js"],"names":["Header","state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","header","post","Provider","value","getTransactions","deleteTransaction","addTransaction","numberWithCommas","x","toString","replace","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","className","Transaction","props","sign","text","Math","abs","onClick","TransactionList","useEffect","console","log","AddTransaction","useState","setText","setAmount","onSubmit","event","preventDefault","newTransaction","floor","random","htmlFor","onChange","e","target","placeholder","div","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d782769.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <h2>\r\n            Expense Tracker\r\n        </h2>\r\n    )\r\n}\r\n","export default (state, action) => {\r\n    switch(action.type){\r\n        case \"GET_TRANSACTION\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n        case \"DELETE_TRANSACTION\": \r\n            return {\r\n                ...state,\r\n                transactions: state.transactions.filter(transaction => transaction._id !== action.payload)\r\n            }\r\n        case \"ADD_TRANSACTIONS\":\r\n            return {\r\n                ...state,\r\n                transactions: [...state.transactions, action.payload]\r\n            }\r\n        case \"TRANSACTION_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }    \r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { createContext, useReducer } from \"react\";\r\nimport AppReducer from \"./AppReducer\"\r\nimport axios from \"axios\";\r\n//Initial State\r\nconst initialState = {\r\n    transactions : [],\r\n    error: null,\r\n    loading: true\r\n}\r\n\r\n// Create Context\r\n\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n//Provider Component\r\n\r\nexport const GlobalProvider = ( {children} ) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n    \r\n    //Actions ----> Make calls to reducer\r\n\r\n    async function getTransactions() {\r\n        try {\r\n            const res = await axios.get(\"/api/v1/transactions\");\r\n            dispatch({\r\n                type: \"GET_TRANSACTION\",\r\n                payload: res.data.data\r\n            });\r\n        }\r\n        catch (err) {\r\n            dispatch({\r\n                type: \"TRANSACTION_ERROR\",\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n    }\r\n\r\n    async function deleteTransaction(id) {\r\n        try {\r\n            const res =  await axios.delete(`/api/v1/transactions/${id}`)\r\n            dispatch({\r\n                type: \"DELETE_TRANSACTION\",\r\n                payload: id\r\n            });            \r\n        } \r\n        catch (err) {\r\n            dispatch({\r\n                type: \"TRANSACTION_ERROR\",\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n    }\r\n\r\n    async function addTransaction(transaction) {\r\n        const config = {\r\n            header : {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n\r\n        try {\r\n            const res = await axios.post(\"/api/v1/transactions\", transaction, config)\r\n            dispatch({\r\n                type: \"ADD_TRANSACTIONS\",\r\n                payload: res.data.data \r\n            });\r\n        } \r\n        catch (err) {\r\n            dispatch({\r\n                type: \"TRANSACTION_ERROR\",\r\n                payload: err.response.data.error\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <GlobalContext.Provider value={\r\n            { \r\n                transactions: state.transactions,\r\n                error: state.error, \r\n                loading: state.loading, \r\n                getTransactions, \r\n                deleteTransaction, \r\n                addTransaction\r\n                }\r\n            }>\r\n            {children}\r\n            </GlobalContext.Provider>\r\n    )\r\n}","export function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import React, { useContext } from 'react'\r\nimport { GlobalContext  } from '../context/GlobalState'\r\nimport { numberWithCommas } from '../util/format'\r\n\r\n\r\nexport const Balance = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n    return (\r\n        <>\r\n        <h4>Your Balance</h4>\r\n        <h1>₹{numberWithCommas(total)}</h1>\r\n    </>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { numberWithCommas } from '../util/format'\r\n\r\nexport const IncomeExpenses = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const income = amounts\r\n    .filter(item => item > 0)\r\n    .reduce((acc, item) => (acc += item), 0)\r\n    .toFixed(2);\r\n    const expense = (amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0)*-1).toFixed(2);\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n            <div>\r\n                <h4>Income</h4>\r\n                <p className=\"money plus\">₹{numberWithCommas(income)}</p>\r\n            </div>\r\n            <div>\r\n                <h4>Expense</h4>\r\n                <p className=\"money minus\">₹{numberWithCommas(expense)}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { numberWithCommas } from '../util/format'\r\n\r\nexport const Transaction = (props) => {\r\n    const { transaction } = props;\r\n    const { deleteTransaction } = useContext(GlobalContext);\r\n    const sign = transaction.amount < 0 ? '-' : '+';\r\n\r\n    return (\r\n        <li className={transaction.amount < 0 ? \"minus\" : \"plus\"}>\r\n            {transaction.text} <span>{sign}₹{numberWithCommas(Math.abs(transaction.amount))}</span><button className=\"delete-btn\" onClick={() =>  deleteTransaction(transaction._id)}>x</button>\r\n        </li>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { GlobalContext  } from '../context/GlobalState'\r\nimport { Transaction } from './Transaction'\r\n\r\nexport const TransactionList = () => {\r\n    const { transactions, getTransactions } = useContext(GlobalContext)\r\n    \r\n    useEffect(() => {\r\n        getTransactions();\r\n        console.log(\"hogya\");\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <h3>History</h3>\r\n            <ul className=\"list\">\r\n                {transactions.map(transaction => (<Transaction key={transaction._id} transaction={transaction} />)) }\r\n            </ul> \r\n        </>\r\n    )\r\n}\r\n","import React, {useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const AddTransaction = () => {\r\n    const [text, setText] = useState(\"\");\r\n    const [amount, setAmount] = useState(0);\r\n\r\n    const {addTransaction} = useContext(GlobalContext);\r\n\r\n    const submissionHandler = (event) => {\r\n        event.preventDefault();\r\n\r\n\r\n        const newTransaction = {\r\n            id: Math.floor(Math.random() * 100000000),\r\n            text,\r\n            amount: +amount\r\n        }\r\n\r\n        addTransaction(newTransaction);\r\n        setText(\"\");\r\n        setAmount(0);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Add new transaction</h3>\r\n            <form onSubmit={submissionHandler}>\r\n                <div className=\"form-control\">\r\n                    <label htmlFor=\"text\">Text</label>\r\n                    <input type=\"text\" value={text} onChange={(e) => {setText(e.target.value)}} placeholder=\"Enter text...\"/>\r\n                </div>\r\n                <div div className=\"form-control\">\r\n                    <label htmlFor=\"amount\">Amount <br />(negative - expense, positive - income)</label>\r\n                    <input type=\"number\"  value={amount} onChange={(e) => {setAmount(e.target.value)}} placeholder=\"Enter amount...\" />\r\n                </div>\r\n                <button className=\"btn\">Add transaction</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\nimport { Header } from './components/Header'\nimport { Balance } from \"./components/Balance\"\nimport { IncomeExpenses } from \"./components/IncomeExpenses\"\nimport { TransactionList } from \"./components/TransactionList\"\nimport { AddTransaction } from \"./components/AddTransaction\"\n\nimport { GlobalProvider } from \"./context/GlobalState\";\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Header/>\n      <div className=\"container\">\n        <Balance/>\n        <IncomeExpenses/>\n        <TransactionList/>\n        <AddTransaction/>\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}